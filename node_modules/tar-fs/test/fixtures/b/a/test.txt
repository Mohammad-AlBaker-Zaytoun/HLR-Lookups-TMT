const sql = require("mssql");

const config = {
  user: "sa",
  password: "protel@88",
  server: "192.168.1.186", // or IP address
  database: "FlashCall",
  options: {
    encrypt: true, // for security
    trustServerCertificate: false,
    validateBulkLoadParameters: true,
  },
};

const pool = new sql.ConnectionPool(config);

pool.connect((err) => {
  if (err) {
    console.error(err);
  } else {
    console.log("Connected to SQL Server");
  }
});

const query = "SELECT * FROM BlackListed_Phones";

pool.request().query(query, (err, result) => {
  if (err) {
    console.error(err);
  } else {
    console.log(result.recordset);
  }
});